{"version":3,"file":"cffgf.js","mappings":"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","sources":["webpack://@cffgf/colorful-fields-for-gravity-forms/./src/js/gravity-forms-js/index.js","webpack://@cffgf/colorful-fields-for-gravity-forms/./src/scss/_cffgf.scss?86c5","webpack://@cffgf/colorful-fields-for-gravity-forms/external window [\"wp\",\"i18n\"]","webpack://@cffgf/colorful-fields-for-gravity-forms/webpack/bootstrap","webpack://@cffgf/colorful-fields-for-gravity-forms/webpack/runtime/compat get default export","webpack://@cffgf/colorful-fields-for-gravity-forms/webpack/runtime/define property getters","webpack://@cffgf/colorful-fields-for-gravity-forms/webpack/runtime/hasOwnProperty shorthand","webpack://@cffgf/colorful-fields-for-gravity-forms/webpack/runtime/make namespace object","webpack://@cffgf/colorful-fields-for-gravity-forms/./src/cffgf.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\n\n( function ( $ ) {\n\t// eslint-disable-next-line no-undef\n\tif ( !gform.addAction ) {\n\t\treturn;\n\t}\n\n\t/*\n\t * adding setting to all fields except submit button\n\t */\n\t$( document ).ready( function () {\n\t\tObject.keys(fieldSettings).forEach(key => {\n\t\t\tif (key !== 'submit') {\n\t\t\t\tfieldSettings[key] += ', .cffgf_label_setting, .cffgf_field_setting';\n\t\t\t}\n\t\t});\n\t} );\n\n\t/*\n\t * load field settings\n\t */\n\t$( document ).on( 'gform_load_field_settings', function ( event, field, form ) {\n\t\t$( \"#field_cffgf_label_color\" ).val( field.field_cffgf_label_color );\n\t\t$( \"#field_cffgf_field_color\" ).val( field.field_cffgf_field_color );\n\t} );\n\n\t/*\n     * Set the color for each field after editor is loaded.\n \t */\n\t$( document ).on( \"gform_load_form_settings\", function ( event, form ) {\n\t\t$( form.fields ).each( function ( index, field ) {\n\t\t\t$( \"#field_\" + field.id + \" .gfield_label\" ).css( \"color\", field.field_cffgf_label_color );\n\t\t\t$( \"#field_\" + field.id + \" .gsection_title\" ).css( \"color\", field.field_cffgf_label_color );\n\n\t\t\t$( \"#field_\" + field.id ).css( \"background-color\", field.field_cffgf_field_color );\n\t\t} );\n\t} );\n\n\t/*\n\t * Set the color for each field after the field is updated.\n \t */\n\t// eslint-disable-next-line no-undef\n\tgform.addAction( 'gform_post_set_field_property', function ( name, field) {\n\t\t/*\n\t\t * Check if field is false (submit button).\n\t\t */\n\t\tif ( false === field) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\t * Set label color if not exists.\n\t\t */\n\t\tif ( undefined === field.field_cffgf_label_color ) {\n\t\t\tfield.field_cffgf_label_color = '' ;\n\t\t}\n\n\t\t/*\n\t\t * Set field color if not exists.\n\t\t */\n\t\tif ( undefined === field.field_cffgf_field_color) {\n\t\t\tfield.field_cffgf_field_color = '';\n\t\t}\n\n\t\t$( \"#field_\" + field.id + \" .gfield_label\" ).css( \"color\", field.field_cffgf_label_color );\n\t\t$( \"#field_\" + field.id + \" .gsection_title\" ).css( \"color\", field.field_cffgf_label_color );\n\t\t$( \"#field_\" + field.id ).css( \"background-color\", field.field_cffgf_field_color );\n\n\t\t/*\n\t\t * Reset warning if color was reset.\n\t\t */\n\t\t/* eslint-disable max-len,no-undef */\n\t\tif ( '' === field.field_cffgf_label_color && '' === field.field_cffgf_field_color ) {\n\t\t\tResetFieldAccessibilityWarning( 'cffgf_label_setting' );\n\t\t\tResetFieldAccessibilityWarning( 'cffgf_field_setting' );\n\t\t}\n\t\t/* eslint-enable */\n\n\t\t/*\n\t\t * Add warning if label color was set.\n\t\t */\n\t\t/* eslint-disable max-len,no-undef */\n\t\tif ( '' !== field.field_cffgf_label_color && '' === field.field_cffgf_field_color ) {\n\t\t\tSetFieldAccessibilityWarning( 'cffgf_label_setting', 'below', __( 'Inadequate color contrast between this label and the background may compromise visibility. Please ensure sufficient contrast for optimal readability and accessibility.', 'colorful-fields-for-gravity-forms' ) );\n\t\t\tResetFieldAccessibilityWarning( 'cffgf_field_setting' );\n\t\t}\n\t\t/* eslint-enable */\n\n\t\t/*\n\t\t * Checks the contrast and adds a warning if the contrast does not meet the WCAG requirement.\n\t\t */\n\t\tif ( ( '' !== field.field_cffgf_label_color && '' !== field.field_cffgf_field_color ) ||\n\t\t\t( '' === field.field_cffgf_label_color && '' !== field.field_cffgf_field_color ) ) {\n\n\t\t\tlet labelColor = '';\n\n\t\t\t/*\n\t\t\t * Set label color to default css color if field setting is empty.\n\t\t\t */\n\t\t\tif ( '#' === field.field_cffgf_label_color ) {\n\t\t\t\tlabelColor = $( \"#field_\" + field.id + \" .gfield_label\" ).css( \"color\" );\n\t\t\t\tlabelColor = rgb2hex( labelColor );\n\t\t\t} else {\n\t\t\t\tlabelColor = field.field_cffgf_label_color;\n\t\t\t}\n\n\t\t\tconst colorCcontrast = getContrast( labelColor, field.field_cffgf_field_color );\n\n\t\t\t/* eslint-disable max-len,no-undef */\n\t\t\tif ( colorCcontrast < 4.5 ) {\n\t\t\t\tSetFieldAccessibilityWarning( 'cffgf_field_setting', 'below', __( 'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.', 'colorful-fields-for-gravity-forms' ) );\n\t\t\t\tResetFieldAccessibilityWarning( 'cffgf_label_setting' );\n\t\t\t} else {\n\t\t\t\tResetFieldAccessibilityWarning( 'cffgf_field_setting' );\n\t\t\t}\n\t\t\t/* eslint-enable */\n\t\t}\n\t} );\n// eslint-disable-next-line no-undef\n} )( jQuery );\n\n/*\n * Return the contrast ratio between 2 hex colors.\n */\nfunction getContrast( hexColor1, hexColor2 ) {\n\t/*\n\t * Convert hex colors in rgb.\n\t */\n\tfunction hexToRgb( hex ) {\n\t\t/*\n\t\t * Remove #.\n\t\t */\n\t\thex = hex.replace( '#', '' );\n\n\t\t/*\n\t\t * Split hex values in red, green and blue.\n\t\t */\n\t\tconst r = parseInt( hex.substring( 0, 2 ), 16 );\n\t\tconst g = parseInt( hex.substring( 2, 4 ), 16 );\n\t\tconst b = parseInt( hex.substring( 4, 6 ), 16 );\n\n\t\t/*\n\t\t * Return object with rgb values.\n\t\t */\n\t\treturn {\n\t\t\tr,\n\t\t\tg,\n\t\t\tb\n\t\t};\n\t}\n\n\t/*\n\t * Calculate the contrast based on rgb values.\n\t */\n\tfunction calculateContrast( rgb1, rgb2 ) {\n\t\tconst luminance1 = calculateLuminance( rgb1 );\n\t\tconst luminance2 = calculateLuminance( rgb2 );\n\n\t\t/*\n\t\t * Calculate the contrast according to the formula for relative contrast\n\t\t */\n\t\treturn ( Math.max( luminance1, luminance2 ) + 0.05 ) / ( Math.min( luminance1, luminance2 ) + 0.05 );\n\t}\n\n\t/*\n\t * Calculate the luminance of a color according to the formula for luminance\n\t */\n\tfunction calculateLuminance( rgb ) {\n\t\tlet R = rgb.r / 255;\n\t\tlet G = rgb.g / 255;\n\t\tlet B = rgb.b / 255;\n\n\t\tR = ( R <= 0.03928 ) ? R / 12.92 : Math.pow( ( R + 0.055 ) / 1.055, 2.4 );\n\t\tG = ( G <= 0.03928 ) ? G / 12.92 : Math.pow( ( G + 0.055 ) / 1.055, 2.4 );\n\t\tB = ( B <= 0.03928 ) ? B / 12.92 : Math.pow( ( B + 0.055 ) / 1.055, 2.4 );\n\n\t\treturn 0.2126 * R + 0.7152 * G + 0.0722 * B;\n\t}\n\n\t/*\n\t * Convert hex to rgb.\n\t */\n\tconst rgb1 = hexToRgb( hexColor1 );\n\tconst rgb2 = hexToRgb( hexColor2 );\n\n\t/*\n\t * Calc contrast and return.\n\t */\n\treturn calculateContrast( rgb1, rgb2 );\n}\n\n/*\n * Convert rgb 2 hex.\n */\nconst rgb2hex = ( rgb ) =>\n\t`#${ rgb\n\t\t.match( /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/ )\n\t\t.slice( 1 )\n\t\t.map( n => parseInt( n, 10 )\n\t\t\t.toString( 16 )\n\t\t\t.padStart( 2, '0' ) )\n\t\t.join( '' )\n\t}`\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './scss/_cffgf.scss';\n\nimport './js/gravity-forms-js/index.js';\n"],"names":["__","$","gform","addAction","document","ready","Object","keys","fieldSettings","forEach","key","on","event","field","form","val","field_cffgf_label_color","field_cffgf_field_color","fields","each","index","id","css","name","undefined","ResetFieldAccessibilityWarning","SetFieldAccessibilityWarning","labelColor","rgb2hex","colorCcontrast","getContrast","jQuery","hexColor1","hexColor2","hexToRgb","hex","replace","r","parseInt","substring","g","b","calculateContrast","rgb1","rgb2","luminance1","calculateLuminance","luminance2","Math","max","min","rgb","R","G","B","pow","match","slice","map","n","toString","padStart","join"],"sourceRoot":""}